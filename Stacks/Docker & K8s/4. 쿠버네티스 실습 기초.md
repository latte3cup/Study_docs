- 네임스페이스는 쿠버네티스 리소스를 논리적으로 격리하고 관리하기 위한 가상 공간이다.
- YAML <-> json 은 완벽 호환되므로 리소스 정의에도 문제없음.
### 포드 실행
1. 포드 실행은 run 명령으로 실행됨. -->  빌드한 이미지나 이미지를 Pull해서 가져옴
2. 아니면 Manifest (yaml 파일로 생성하여 실행 가능)

### 디플로이먼트(Deployment)
: 쿠버네티스를 구성하는 핵심 개념 중 하나
###### 개념
- 디플로이먼트는 포드를 관리하기 위한 개념
- 하지만 먼저 레플리카셋을 알아야함 (Replicaset)
- 레플리카셋은 명시되어 있고 유지해야하는 파드 개수에 대한 **가용성을 보증**하는 데 사용
- 즉, 디플로이먼트는 레플리카셋을 관리하는 컨트롤러이다.

###### 실행
1.  kubectl create deployment deploy-hello -image = hello-world --replicas = n
--> 여기서 특정 포드를 지우면 다시 n 지정한 만큼 유지되도록 포드가 다시 생성됨
--> 따라서 디플로이먼틀르 지워야 관련된 포드를 깔끔히 지울 수 있음
2. 디플로이먼트도 동일하게 Mainfest를 통해 실행할 수 있다.
###### 스케일링
- 다시 apply를 통해 변경된 설정으로 적용할 수 있다. yml 이 아니라면 set 명령을 통해 적용함
- 여기서 말하는 스케일링은 스케일 아웃, 포드의 수를 변경하는 것이다.
- 이 스케일링은 레플리카셋의 변경사항에 기록되지 않는다.
- 즉 스케일링은 롤아웃을 일으키지 않는다.
###### 리비전 (변경사항 관리)
- 롤백 : 되돌림 ㅇㅇ
- 하지만 조금 생소한 개념인 롤아웃(Rollout)을 알아야함
--> 롤아웃 : 쿠버네티스 Deployment에서 새로운 버전(Pod Template)을 기존 버전으로부터 점진적으로 교체하는 프로세스
--> Rollout은 오직 `spec.template`이 변경될 때만 일어난다. (spec은  포드의 실제 구성 내용)
--> 롤아웃은 기존 레플리카셋의 포드를 점차 줄이고 새로운 레플리카셋의 포드를 점차 변경하여 늘리면서 교체

### 서비스
:  클라이언트와 파드의 연결을 담당
###### 개념
: 포드는 쿠버네티스에서 일시적인 존재로 언젠가는 정지됨. 포드가 클라이언트에게 서비스를 제공하려면 클라이언트는 포드의 IP 주소를 요청해야함.
: 하지만 포드별 ip 주소가 다르고 , 포드가 죽고 탄생함으로써 ip 주소는 매번 변경됨.
: 따라서 하나의 서비스로 **논리적인 포드의 집합을 정의**하고 **클라이언트가 그 포드에 접근할 정책을 정의**하는 추상적 개념 --> 즉 외부 트래픽 노출, 로드 밸런싱 및 파드들에 대한 서비스 디스커버리를 가능하게 함

#### 서비스 종류
1. ClusterIp : 서비스의 기본 설정 값으로서 클러스터 내에서만 파드에 접근될수 있도록 하는 유형

2. NodePort : 각 노드의 특정 포트를 통해 외부 접근을 제공하는 유형. NAT을 사용하는 클러스터 내에서 각 노드들의 지정된 포트 (30000~32767)을 외부에 노출 **\<NodeIP>:\<NodePORT>**\\ 를 이용해 접근하게 함.  ClusterIP의 상위 집합이기도 함
--> 외부에서 해당 서비스에 접근하려면 위에 써있듯이 해당 노드의 IP & port를 알아야함

3. LoadBalancer : 외부용 로드밸런서를 생성하고 서비스에 고정된 공인 IP 를 할당
--> IP & Port 를 이용해 클러스터 외부에서 서비스에 접근. NodePort의 상위 집합
--> NodePort의 상위 집합이지만 공인 IP 및 포트 하나를 노출하므로 NodePort는 알 필요 없음

4. ExternalName : CNAME(Canonical) 레코드를 통해 클러스터 외부 서비스로의 DNS 조회를 제공하는 유형. 즉 클러스터 외부에 있는 외부 도메인을 가리키도록 설정 가능
--> 이는 내부에서 외부의 리소스를 내부처럼 사용하기 위해 사용.
--> 이는 위 3개와 완전 독립적으로, 셀렉터도 없고, 포드도 생성되지 않음
--> 또 이는 논리적이므로, 물리적으로는 API-서버 내부에 존재. 즉 마스터 노드 리소스에 물리적 위치.